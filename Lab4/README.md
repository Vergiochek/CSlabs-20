# Лабораторная работа №4
Схема того, как это всё дело работает: 

![alt text](Pictures/2.png "Описание будет тут")

Папки для просмотра:
- FileManager(папка, в которой содержится результат третьей лабораторной работы(шифрование,архивирование,перемещение,деархивирование,дешифрование и сохранение архива файла)).
- DatabaseManager(сервис для работы с БД).
- DatabaseModels(папка с сущностями).
- DataAccessLayer(слой работы с базой данных, с помощью которого можно взаимодействовать с базой данных).
- ServiceLayer(слой для работы DataAccessLayer).
- ConfigurationManager(код, с помощью которого получаем необходимые конфигурационные свойства из Xml и Json файлов).

Как это работает:

"Разработана АДЕКВАТНАЯ структура папок"(просьба Артёма =)). В папке DatabaseModels находится модель HumanData(Models.cs), в которой содержится необходимый набор для последующей обработки. Там же находятся модели FindCanon и Search, отвечающие за набор параметров для запроса данных и хранилище для данных соответственно. Папка DataAccessLayer: слой интерфейсов с методами чтения данных. Repositories.cs отвечает за чтение данных с БД: класс DALayercfg служит для запроса и подключения к БД. В папке ServiceLayer реализован набор интерфейсов с методами для работы DataAccessLayer. В папке DatabaseManager содержится DatabaseManager.cs и виндоус-служба к нему. Здесь содержится функционал по считыванию, обработке и отправке данных. 
В начале работы модель наполняется нужными данными благодаря ConfigurationManager. Класс использует xml и json парсеры, которые реализуют наполненную модель, используя файлы конфигурации. Выполняется сама работа DatabaseManager'a. То есть происходит считывание данных, их обработка и отправка.
После попадания файла в папку мониторинга работу продолжает уже знакомый нам FileManager, который был разработан в третьей лабораторной работе(идёт шифровка, архирвирование, перемещение, деархирвирование и дешифрование).
